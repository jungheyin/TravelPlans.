<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.travelplans.mypage.dao.MypageDAO">
 
<select id="selsectTravelList" resultType="com.travelplans.mypage.model.Travel">
 	SELECT 
 		`id`
 		,`userId`
		,`title`
		,`startDate`
		,`endDate`
		,`price`
		,`createdAt`
		,`updatedAt`
 	FROM
 		`travel`
 	WHERE
 		`userId` = #{userId}
 	ORDER BY `id` DESC
</select>

<select id="selectTravelById" resultType="com.travelplans.mypage.model.Travel">
 	SELECT 
 		`id`
 		,`userId`
		,`title`
		,`startDate`
		,`endDate`
		,`price`
		,`createdAt`
		,`updatedAt`
 	FROM
 		`travel`
 	WHERE
 		`id` = #{travelId}
</select>

<update id="updateNicknameById" parameterType="map">
UPDATE `user`
SET
	`nickname` = #{nickname}
	,`updatedAt` = NOW()
WHERE 
	`id` = #{userId}
</update>
 
<delete id="deleteTravelByIdUserId" parameterType="map">
 	DELETE
 	FROM
 		`travel`
 	WHERE
 		`id` = #{travelId}
 		AND userId = #{userId} 
</delete>
</mapper>